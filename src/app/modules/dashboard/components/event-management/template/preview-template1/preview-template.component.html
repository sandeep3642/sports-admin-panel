<div class=" mx-auto ">
  <!-- Top action bar -->
  <div class="flex items-center mb-6">
    <!-- Left: Go Back -->
    <div class="flex items-center cursor-pointer shadow rounded w-fit px-2 py-2" (click)="goBack()">
      <img src="../../../../../assets/icons/go-back.svg" class="mr-1" />
      <p>Go Back</p>
    </div>

    <!-- Right: Actions -->
    <div class="ml-auto flex items-center gap-2">
      <!-- When identification is false -->
      <ng-container *ngIf="!identification; else editMode">
        <button (click)="useTemplate()"
          class="bg-[#1A1A1A] text-white px-6 py-3 rounded cursor-pointer flex items-center gap-2 text-sm" >
          Use This Template
        </button>
      </ng-container>

      <!-- When identification is true -->
      <ng-template #editMode>
        <button (click)="editTemplate()" class="bg-[#1A1A1A] text-white px-6 py-2 rounded text-sm">
          Edit
        </button>

        <button class="bg-[#075FB0] text-white px-6 py-2 rounded text-sm cursor-pointer" (click)="save()">
          Save
        </button>
      </ng-template>
    </div>
  </div>

  <!-- Header and Image -->
  <div class="flex flex-col md:flex-row gap-6 bg-white border p-5 rounded-[5px]">
    <div class="flex-1">
      <h1 class=" mb-2 text-2xl">State Level <span style="color: #1A1A1A;" class="font-bold">{{eventDetails?.title ||
          'Athletics Championship
          2025'}}</span></h1>

      <ng-container *ngIf="eventDetails?.images?.length > 0;else staticImg">
        <div class="relative mt-5">
          <!-- Image -->
          <img [src]="eventDetails.images[currentIndex]" alt="Event"
          class="rounded-lg w-full h-80 object-cover" />

          <!-- Top-right navigation container -->
          <div class="absolute top-4 right-4 flex space-x-2">
            <!-- Prev Button -->
            <button (click)="prevDynmicImage()" class="bg-white/80 hover:bg-white rounded-full p-2 shadow"
              aria-label="Previous">
              <svg class="w-5 h-5 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
              </svg>
            </button>

            <!-- Next Button -->
            <button (click)="nextDynmicImage()" class="bg-white/80 hover:bg-white rounded-full p-2 shadow"
              aria-label="Next">
              <svg class="w-5 h-5 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </button>
          </div>
        </div>
      </ng-container>
      <ng-template #staticImg>
        <div class="relative mt-5">
          <!-- Image -->
          <img [src]="currentImage.image || '../../../../../../assets/events/templateprivew.svg'" alt="Event"
            class="rounded-lg w-full h-80 object-cover" />

          <!-- Top-right navigation container -->
          <div class="absolute top-4 right-4 flex space-x-2">
            <!-- Prev Button -->
            <button (click)="prevImage()" class="bg-white/80 hover:bg-white rounded-full p-2 shadow"
              aria-label="Previous">
              <svg class="w-5 h-5 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
              </svg>
            </button>

            <!-- Next Button -->
            <button (click)="nextImage()" class="bg-white/80 hover:bg-white rounded-full p-2 shadow" aria-label="Next">
              <svg class="w-5 h-5 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </button>
          </div>
        </div>

      </ng-template>


      <div class="flex flex-wrap gap-4 mb-4 mt-7">
        <div class="flex items-center gap-3 p-3 " style="background-color: #FAFAFA;">
          <div style="background-color: #00732B;" class="w-10 h-10 rounded-full flex items-center justify-center">
            <img
              src="../../../../../../../assets/events/template1/calendar_month_24dp_E3E3E3_FILL0_wght400_GRAD0_opsz24 (4) 1.svg"
              class="w-5 h-5">
          </div>
          <div>
            <div class="font-semibold" style="color: #1A1A1A;">Event Date</div>
            <div class="text-gray-600">{{eventDetails?.start_date || event.date }}</div>
          </div>
        </div>
        <div class="flex items-center gap-3 p-3 " style="background-color: #FAFAFA;">
          <div style="background-color: #00732B;"
            class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center">
            <img
              src="../../../../../../../assets/events/template1/schedule_24dp_E3E3E3_FILL0_wght400_GRAD0_opsz24 1 (1).svg"
              class="w-5 h-5">
          </div>
          <div>
            <div class="font-semibold" style="color: #1A1A1A;">Event Time</div>
            <div class="text-gray-600">
              {{
              eventDetails?.start_time
              ? eventDetails.start_time + ' - ' + eventDetails.end_time + ' PM'
              : event.time
              }}
            </div>
          </div>
        </div>
        <div class="flex items-center gap-3 p-3 " style="background-color: #FAFAFA;">
          <div style="background-color: #00732B;"
            class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center">
            <img
              src="../../../../../../../assets/events/template1/activity_zone_24dp_E3E3E3_FILL0_wght400_GRAD0_opsz24 (1) 1.svg"
              class="w-5 h-5">
          </div>
          <div>
            <div class="font-semibold" style="color: #1A1A1A;">Event Location</div>
            <div class="text-gray-600">{{ eventDetails?.location.lat || event.location }}</div>
          </div>
        </div>
      </div>
      <p class="mb-4" style="color: #1A1A1A;" [innerHTML]="eventDetails?.tagline || defaultTagline">

      </p>
      <div class="flex gap-4 mb-4 mt-8">
        <button
          class="text-white px-6 py-3 rounded-lg flex items-center gap-3 font-bold text-sm uppercase hover:opacity-90 transition-opacity shadow-md"
          style="background-color: #00732B;">
          REGISTER
          <div class="w-6 h-6 bg-white rounded-full flex items-center justify-center">
            <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24" style="color: #00732B;">
              <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z" />
            </svg>
          </div>
        </button>
        <button
          class="px-6 py-3 rounded-lg flex items-center gap-3 font-bold text-sm uppercase hover:opacity-90 transition-opacity shadow-md"
          style=" color: #00732B; border: 2px solid #00732B;">
          WATCH VIDEO

        </button>
      </div>
      <div class="" style="color: #F46C6C;">Registration Deadline: April 30, 2025</div>

      <!-- Schedule Tabs -->
      <div class="mt-8">
        <div class="font-bold text-2xl mb-6" style="color: #1A1A1A;">Event Schedule</div>

        <!-- Day Tabs -->
        <div class="flex gap-2 mb-6">
          <button *ngFor="let day of event.schedule; let idx = index" (click)="selectedDay = idx"
            [ngClass]="selectedDay === idx ? 'text-white' : 'text-black'"
            class="px-6 py-4 rounded-lg font-bold text-lg transition-colors"
            [style.background-color]="selectedDay === idx ? '#00732B' : '#FAFAFA'">
            <div>{{ day.day }}</div>
            <div class="text-sm font-normal mt-1">{{ day.date }}</div>
          </button>
        </div>

        <!-- Event List for Selected Day -->
        <div *ngIf="event.schedule[selectedDay]" class="mb-8">
          <div class="flex flex-wrap items-center gap-6">
            <div *ngFor="let item of event.schedule[selectedDay].items" class="flex items-center gap-2">
              <img src="../../../../../../../assets/events/template1/Vector (26).svg" />
              <span style="color: #00732B;" class="font-semibold">

                {{ item.title }}
              </span>
            </div>
          </div>
        </div>


        <!-- Detailed Event Information -->
        <div class="flex flex-col md:flex-row bg-[#FAFAFA]  justify-between items-start p-6 gap-6">
          <!-- Left Content -->
          <div class="flex-1">
            <h3 class="text-lg font-semibold mb-2 text-black">
              1. 4x100m & 4x400m Relays
            </h3>
            <p class="text-[#4A4A4A] mb-4">
              Lorem ipsum dolor site amet the best consectetur diam nerd adipiscing elites sed diam nonummy nibh the
              ebest uismod tincidunt ut laoreet dolore magna aliquam erat
            </p>
            <!-- Event Info -->
            <div class="flex flex-wrap gap-10">

              <div class="flex items-center  rounded-md  py-3">
                <div style="background-color: #00732B;" class="w-10 h-10 rounded-full flex items-center justify-center">
                  <img
                    src="../../../../../../../assets/events/template1/calendar_month_24dp_E3E3E3_FILL0_wght400_GRAD0_opsz24 (4) 1.svg"
                    class="w-5 h-5">
                </div>
                <div class="pl-2">
                  <div class="text-sm">Event Date</div>
                  <div class="font-semibold text-[#1A1A1A]">26 - 27 Dec</div>
                </div>
              </div>
              <div class="flex items-center  rounded-md px-4 py-3 ">
                <div style="background-color: #00732B;" class="w-10 h-10 rounded-full flex items-center justify-center">
                  <img
                    src="../../../../../../../assets/events/template1/calendar_month_24dp_E3E3E3_FILL0_wght400_GRAD0_opsz24 (4) 1.svg"
                    class="w-5 h-5">
                </div>
                <div class="pl-2">
                  <div class="text-sm">Event Time</div>
                  <div class="font-semibold text-[#1A1A1A]">3PM - 6 PM</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Image -->
          <div class="flex-shrink-0">
            <img src="../../../../../../../assets/events/template1/Rectangle 3845 (1).svg" alt="Runner"
              class="object-cover rounded-md" />
          </div>
        </div>

      </div>
      <!-- Event Included -->
      <div class=" mt-6">
        <div class="font-semibold mb-2 flex items-center gap-2">
          <img src="../../../../../../../assets/events/template1/Vector (23).svg" class="p-3 rounded-md"
            style="background-color: #00732B; width: 50px; height: 50px;" />
          <span class="text-2xl">Event Included</span>
        </div>

        <div class="flex flex-wrap gap-2 mt-4">
          <span class="px-3 py-3 rounded text-sm font-bold" style="background-color: #E6F4EC; color: #00732B;">
            800m Run
          </span>
          <span class="px-3 py-3 rounded text-sm font-bold" style="background-color: #E6F4EC; color: #00732B;">
            1500m Run</span>
          <span class="px-3 py-3 rounded text-sm font-bold" style="background-color: #E6F4EC; color: #00732B;">
            4x100m & 4x400m Relays</span>
          <span class="px-3 py-3 rounded text-sm font-bold" style="background-color: #E6F4EC; color: #00732B;">
            Long Jump</span>
          <span class="px-3 py-3 rounded text-sm font-bold" style="background-color: #E6F4EC; color: #00732B;">
            High Jump</span>
          <span class="px-3 py-3 rounded text-sm font-bold" style="background-color: #E6F4EC; color: #00732B;">
            Shot Put</span>
          <br />
          <span class="px-3 py-3 rounded text-sm font-bold" style="background-color: #E6F4EC; color: #00732B;">
            Discus Throw</span>
          <span class="px-3 py-3 rounded text-sm font-bold" style="background-color: #E6F4EC; color: #00732B;">
            200m Sprint</span>
        </div>

      </div>
      <!-- Prizes & Awards -->
      <div class="mt-10">
        <div class="font-semibold mb-2 flex items-center gap-2">
          <img src="../../../../../../../assets/events/template1/Vector (24).svg" class="p-3 rounded-md"
            style="background-color: #00732B; width: 50px; height: 50px;" />
          <span class="text-2xl">Prizes & Awards</span>
        </div>
        <ul class="list-disc ml-6">
          <ng-container
            *ngIf="eventDetails?.awards_and_recognition && eventDetails?.awards_and_recognition.length > 0; else hardcodeprice">
            <li *ngFor="let prize of eventDetails?.awards_and_recognition" class="py-2">{{ prize }}</li>
          </ng-container>
          <ng-template #hardcodeprice>
            <li class="py-2">Gold, Silver & Bronze Medals for top 3 finishers in each category</li>
            <li class="py-2">Official Participation Certificates for all athletes</li>
            <li class="py-2">“Best Athlete” awards (Boys & Girls in each age group)</li>
            <li class="py-2">Shortlisted candidates to be considered for state-level coaching & camps</li>
          </ng-template>
        </ul>

      </div>
      <!-- Document Required -->
      <div class="mt-6">
        <div class="font-semibold mb-2 flex items-center gap-2">
          <div class="p-3 rounded-md" style="background-color: #00732B; width: 50px; height: 50px;">
            <img src="../../../../../../../assets/events/template1/Vector (25).svg"
              class="w-full h-full object-contain" />
          </div>
          <span class="text-2xl">Document Required</span>
        </div>

        <!-- <div class="font-semibold mb-2" style="color: #1A1A1A;">Document Required</div> -->
        <ng-container *ngIf="eventDetails?.registration_details?.required_document;else hardcodeDocumnet"> 
          <ul class="list-disc ml-6">
            <li *ngFor="let doc of eventDetails?.registration_details?.required_document" class="py-2">{{ doc ? (doc | titlecase) : 'Default' }}
            </li>
          </ul>
        </ng-container>
        <ng-template #hardcodeDocumnet>
        <ul class="list-disc ml-6">
          <li *ngFor="let doc of event.documents" class="py-2">{{ doc }}</li>
        </ul>
        </ng-template>
      </div>
      <!-- Travel & Accommodation -->
      <div class="mt-6">
        <div class="font-semibold mb-2 flex items-center gap-2">
          <img
            src="../../../../../../../assets/events/template1/travel_explore_24dp_E3E3E3_FILL0_wght400_GRAD0_opsz24 1.svg"
            class="p-3 rounded-md" style="background-color: #00732B; width: 50px; height: 50px;" />
          <span class="text-2xl">Travel & Accommodation</span>
        </div>
        <ng-container *ngIf="eventDetails?.travel_and_accomodation; else notAvailable">
          <ul class="list-disc ml-6">
            <li *ngIf="eventDetails?.travel_and_accomodation?.is_parking_available" class="py-2">
              Parking Available
            </li>
            <li *ngIf="eventDetails?.travel_and_accomodation?.is_accomodation_provided" class="py-2">
              Accommodation Provided
            </li>
            <li *ngIf="eventDetails?.travel_and_accomodation?.accommodation_details?.hotel" class="py-2">
              Hotel: {{ eventDetails.travel_and_accomodation.accommodation_details.hotel }}
            </li>
            <li *ngIf="eventDetails?.travel_and_accomodation?.accommodation_details?.limited_rooms" class="py-2">
              Limited Rooms Available
            </li>
            <li *ngIf="eventDetails?.travel_and_accomodation?.public_transport_info" class="py-2">
              Public Transport Info: {{ eventDetails.travel_and_accomodation.public_transport_info }}
            </li>
          </ul>
        </ng-container>

        <ng-template #notAvailable>
          <ul class="list-disc ml-6">
            <li *ngFor="let travel of event.travel" class="py-2">{{ travel }}</li>
          </ul>
        </ng-template>

      </div>
    </div>
    <!-- Sidebar -->
    <div class="w-full md:w-80 flex-shrink-0">
      <div class="rounded-lg border p-3 mb-4">
        <div class="font-semibold border-b pb-2" style="color: #1A1A1A; font-size: 18px;">Event Location</div>
        <img src="../../../../../../assets/events/map.svg" class="rounded mb-2 mt-3" />
      </div>

      <div class="bg-#FAFAFA my-2 p-3 " style="background-color: #FAFAFA;">
        <div class="flex items-center gap-3 border-b pb-3">
          <div style="background-color: #00732B;" class="w-10 h-10 rounded-full flex items-center justify-center">
            <img
              src="../../../../../../../assets/events/template1/activity_zone_24dp_E3E3E3_FILL0_wght400_GRAD0_opsz24 (1) 1.svg"
              class="w-5 h-5">
          </div>
          <div>
            <div class="font-semibold" style="color: #1A1A1A;">Venue Name</div>
            <div class="font-semibold" style="font-size: 20px;">Salt Lake Stadium</div>
          </div>
        </div>


        <div class="py-2 mt-3 flex items-center gap-2">
          <img src="../../../../../../../assets/events/template1/Vector (26).svg" />
          <span>{{ event.venueAddress }}</span>
        </div>
        <div class="py-2 flex items-center gap-2">
          <img src="../../../../../../../assets/events/template1/Vector (26).svg" />
          <span>{{ event.date }}</span>
        </div>
        <div class="py-2 flex items-center gap-2">
          <img src="../../../../../../../assets/events/template1/Vector (26).svg" />
          <span>From {{ event.time }} (EST) Daily</span>
        </div>
        <button style="background-color: #00732B"
          class="text-white px-6 mt-7 py-3 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center justify-center gap-2">
          <img
            src="../../../../../../../assets/events/template1/location_on_24dp_E3E3E3_FILL0_wght400_GRAD0_opsz24 (2) 1.svg">
          GO TO LOCATION
        </button>
      </div>
      <div class="rounded-lg p-4 mb-4" style="background-color: #FAFAFA;">
        <div class="flex items-center gap-3 border-b pb-3">
          <div style="background-color: #00732B;" class="w-10 h-10 rounded-full flex items-center justify-center">
            <img
              src="../../../../../../../assets/events/template1/activity_zone_24dp_E3E3E3_FILL0_wght400_GRAD0_opsz24 (1) 1.svg"
              class="w-5 h-5">
          </div>
          <div>
            <div class="font-semibold" style="color: #1A1A1A;">Organizer</div>
            <ng-container *ngIf="eventDetails?.host; else hardcodehost">
              <div class="font-semibold" style="font-size: 20px;">{{eventDetails?.host}} </div>
            </ng-container>
            <ng-template #hardcodehost>
              <div class="font-semibold" style="font-size: 20px;">West Bengal Sports</div>
            </ng-template>
          </div>
        </div>
        <div class="text-sm  mt-3">{{ event.organizerDesc }}</div>
        <div class="flex items-center gap-2 mt-6">
          <img src="../../../../../../../assets/events/template1/Vector (27).svg">instagram.com/sportsevent
        </div>
      </div>

      <ng-container *ngIf="eventDetails?.faq && eventDetails?.faq.length > 0; else hardcodefaq">
        <div class=" p-4">
          <div class="font-semibold mb-2" style="color: #1A1A1A;">Event FAQ</div>
          <div *ngFor="let faq of eventDetails.faq; let i = index" class="mb-2">
            <button (click)="toggleFaq1(i)"
              class="w-full text-left flex justify-between items-center py-2 px-3 bg-gray-100 rounded">
              <span>{{ faq?.question }}</span>
              <span class="material-icons">
                {{ faq?.open ? 'expand_less' : 'expand_more' }}
              </span>
            </button>
            <div *ngIf="faq?.open" class="p-3 text-sm  rounded-b">
              {{ faq?.answer }}
            </div>
          </div>
        </div>
      </ng-container>

      <ng-template #hardcodefaq>
        <div class="p-4">
          <div class="font-semibold mb-2" style="color: #1A1A1A;">Event FAQ</div>
          <div *ngFor="let faq of event?.faqs; let i = index" class="mb-2">
            <button (click)="toggleFaq(i)"
              class="w-full text-left flex justify-between items-center py-2 px-3 bg-gray-100 rounded">
              <span>{{ faq.question }}</span>
              <span class="material-icons">{{ faq.open ? 'expand_less' : 'expand_more' }}</span>
            </button>
            <div *ngIf="faq.open" class="p-3 text-sm  rounded-b">
              {{ faq.answer }}
            </div>
          </div>
        </div>
      </ng-template>

    </div>
  </div>

</div>